<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>byfile Mode &mdash; random-obj-generator 0.16.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/my_theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Logging" href="doc.logging.html" />
    <link rel="prev" title="timedelta Mode" href="doc.as_command.timedelta.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            random-obj-generator
          </a>
              <div class="version">
                0.16.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="doc.quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.construct_factories.html">Construct Factories (generator of random values)</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.use_factories.html">Use Factories</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.write_generated.html">Output Generated Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.external_def.html">External File Definition of Factory</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="doc.as_command.html">Run as Command</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="doc.as_command.html#modes">Modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.as_command.html#arguments-and-options">Arguments and Options</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="doc.as_command.html#details-of-modes">Details of Modes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.bool.html">bool Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.int.html">int Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.float.html">float Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.str.html">str Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.decimal.html">decimal Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.datetime.html">datetime Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.date.html">date Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.time.html">time Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.as_command.timedelta.html">timedelta Mode</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">byfile Mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arguments-and-options">Arguments and Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc.logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.tips.html">Tips (Usage)</a></li>
<li class="toctree-l1"><a class="reference internal" href="randog.html">randog package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">random-obj-generator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="doc.as_command.html">Run as Command</a></li>
      <li class="breadcrumb-item active">byfile Mode</li>
    <li class="spacer"></li>
    <li class="wy-breadcrumbs-aside">
        <select name="lang" onchange="location.href=value;">
            <option value="../en/doc.as_command.byfile.html"
                selected
            >English</option>
            <option value="../ja/doc.as_command.byfile.html"
            >日本語</option>
        </select>
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="byfile-mode">
<h1>byfile Mode<a class="headerlink" href="#byfile-mode" title="Permalink to this heading"></a></h1>
<p>In byfile mode, values are generated using the factories defined in <a class="reference internal" href="doc.external_def.html"><span class="doc">a factory definition</span></a>. The format of the command is as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>FACTORY_PATH<span class="w"> </span><span class="o">[</span>...<span class="o">]</span><span class="w"> </span><span class="o">[</span>--regenerate<span class="w"> </span>PROB_REGEN<span class="o">]</span><span class="w"> </span><span class="o">[</span>--discard<span class="w"> </span>PROB_DISCARD<span class="o">]</span><span class="w"> </span><span class="o">[</span>--csv<span class="w"> </span>ROW_NUM<span class="o">]</span><span class="w"> </span><span class="o">[</span>--error-on-factory-stopped<span class="o">]</span><span class="w"> </span><span class="o">[</span>common-options<span class="o">]</span>
</pre></div>
</div>
<p>The argument FACTORY_PATH is <a class="reference internal" href="doc.external_def.html"><span class="doc">a filename of the factory definition</span></a>. It must be python code that creates an instance of factory in the variable FACTORY as in the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">uuid</span>

<span class="n">FACTORY</span> <span class="o">=</span> <span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">from_example</span><span class="p">({</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
<span class="p">})</span>

<span class="c1"># (optional) Settings used for CSV output</span>
<span class="n">CSV_COLUMNS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In factory definition file, <code class="code docutils literal notranslate"><span class="pre">import</span> <span class="pre">randog</span></code> can be omitted.</p>
</div>
<section id="arguments-and-options">
<h2>Arguments and Options<a class="headerlink" href="#arguments-and-options" title="Permalink to this heading"></a></h2>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">FACTORY_PATH</span> <span class="pre">[...]</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>paths of one or more <a class="reference internal" href="doc.external_def.html"><span class="doc">factory definition files</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">--regenerate</span> <span class="pre">PROB_REGEN</span></code> (default=0.0):</p>
<blockquote>
<div><ul class="simple">
<li><p>the probability that the factory generation value is not returned as is, but is regenerated. It affects cases where the original factory returns a value that is not completely random.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">--discard</span> <span class="pre">PROB_DISCARD</span></code> (default=0.0):</p>
<blockquote>
<div><ul class="simple">
<li><p>the probability that the factory generation value is not returned as is, but is discarded. If discarded, the number of times the value is generated is less than <code class="code docutils literal notranslate"><span class="pre">--repeat/-r</span></code> or <code class="code docutils literal notranslate"><span class="pre">--list/-L</span></code> or <code class="code docutils literal notranslate"><span class="pre">--csv</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">--csv</span> <span class="pre">ROW_NUM</span></code> (optional):</p>
<blockquote>
<div><ul class="simple">
<li><p>if specified, it outputs generated ROW_NUM objects as CSV. When using this option, it is recommended to use a factory that generates dictionaries and to define <code class="code docutils literal notranslate"><span class="pre">CSV_COLUMNS</span></code> in the definition file to specify the fields of the CSV.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">--error-on-factory-stopped</span></code> (optional):</p>
<blockquote>
<div><ul class="simple">
<li><p>If specified, error is occurred in case the factory cannot generate value due to <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#StopIteration">StopIteration</a>. If not specified, the generation simply stops in the case.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">common-options</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="doc.as_command.common_option.html"><span class="doc">common options</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<p>The simplest example is the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py
</pre></div>
</div>
<p>If the definition file defines a factory that generates a dict equivalent to one record in the database, you can obtain data for testing by generating multiple dict as shown below:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate list which contains 10 values</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>-L<span class="w"> </span><span class="m">10</span>
</pre></div>
</div>
<p>You may want to generate multiple values while outputting each one to a separate file. In that case, you can utilize <code class="code docutils literal notranslate"><span class="pre">-O</span></code> and <code class="code docutils literal notranslate"><span class="pre">-r</span></code> as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Repeat 10 times and output each of them into out_001.json, out_002.json, ... with json format</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>-r<span class="w"> </span><span class="m">10</span><span class="w"> </span>-O<span class="w"> </span><span class="s1">&#39;out_{:03}.json&#39;</span><span class="w"> </span>--json
</pre></div>
</div>
<p>You may want to discard some of the generated values, for example, if you are using PK with missing some timestamps.
In the case, the output can be made missing by <code class="code docutils literal notranslate"><span class="pre">--discard</span></code> or <code class="code docutils literal notranslate"><span class="pre">--regenerate</span></code>. For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># output at most 20 values (each value will be discarded at 10% probability)</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--repeat<span class="w"> </span><span class="m">20</span><span class="w"> </span>--discard<span class="w"> </span><span class="m">0</span>.1

<span class="c1"># output exactly 20 values (each value will be regenerated at 10% probability)</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--repeat<span class="w"> </span><span class="m">20</span><span class="w"> </span>--regenerate<span class="w"> </span><span class="m">0</span>.1
</pre></div>
</div>
<section id="output-as-csv">
<span id="id1"></span><h3>output as CSV<a class="headerlink" href="#output-as-csv" title="Permalink to this heading"></a></h3>
<p>To output in CSV format, use the <code class="code docutils literal notranslate"><span class="pre">--csv</span></code> option. The value of each field is determined by the <code class="code docutils literal notranslate"><span class="pre">CSV_COLUMNS</span></code> defined in the definition file.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># output CSV which contains 20 rows</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--csv<span class="w"> </span><span class="m">20</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Even if factory generates objects other than dict or <code class="code docutils literal notranslate"><span class="pre">CSV_COLUMNS</span></code> is not defined in the definition file, it will output something in CSV format if the <code class="code docutils literal notranslate"><span class="pre">--csv</span></code> option is specified, but this is not recommended. This behavior may be changed in the future.</p>
</div>
<p>CSV output can also be output to multiple files with the <code class="code docutils literal notranslate"><span class="pre">--repeat/-r</span></code> and <code class="code docutils literal notranslate"><span class="pre">--output/-O</span></code> options.
In the following example, it outputs 20 lines to each of 10 CSV files.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># output 10 CSV files; each file contains 20 rows</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--csv<span class="w"> </span><span class="m">20</span><span class="w"> </span>-r<span class="w"> </span><span class="m">10</span><span class="w"> </span>-O<span class="w"> </span><span class="s1">&#39;out_{:03}.csv&#39;</span>
</pre></div>
</div>
<p>In the example at the top of this page, <code class="code docutils literal notranslate"><span class="pre">CSV_COLUMNS</span></code> was defined as a list of strings, but you can also specify a function that returns a field instead of a string that specifies a dictionary key.
In the following example, the third field is a string that is processed from the value of age.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">uuid</span>

<span class="n">FACTORY</span> <span class="o">=</span> <span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">from_example</span><span class="p">({</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
<span class="p">})</span>

<span class="c1"># output example: 17642547-0a4c-4897-a8da-2d495558b8fa,d40s8Jqs,20 years old</span>
<span class="n">CSV_COLUMNS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> years old&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>You may want to discard some of the generated values, for example, if you are using PK with missing some timestamps.
In the case, the output can be made missing by <code class="code docutils literal notranslate"><span class="pre">--discard</span></code> or <code class="code docutils literal notranslate"><span class="pre">--regenerate</span></code>. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span> <span class="nn">randog</span>

<span class="k">def</span> <span class="nf">timestamp_iter</span><span class="p">():</span>
    <span class="nb">next</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="nb">next</span>
        <span class="nb">next</span> <span class="o">+=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">FACTORY</span> <span class="o">=</span> <span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">randdict</span><span class="p">(</span>
    <span class="n">timestamp</span><span class="o">=</span><span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">by_iterator</span><span class="p">(</span><span class="n">timestamp_iter</span><span class="p">()),</span>
    <span class="n">name</span><span class="o">=</span><span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">randstr</span><span class="p">(),</span>
    <span class="n">age</span><span class="o">=</span><span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">CSV_COLUMNS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;timestamp&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># output at most 20 rows (each row will be discarded at 10% probability)</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--csv<span class="w"> </span><span class="m">20</span><span class="w"> </span>--discard<span class="w"> </span><span class="m">0</span>.1

<span class="c1"># output exactly 20 rows (Gaps of &#39;timestamp&#39; at 10% probability)</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--csv<span class="w"> </span><span class="m">20</span><span class="w"> </span>--regenerate<span class="w"> </span><span class="m">0</span>.1
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Missing rows by <code class="code docutils literal notranslate"><span class="pre">--discard</span></code> will result in fewer rows of output than the number specified by <code class="code docutils literal notranslate"><span class="pre">--csv</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Skipping rows by <code class="code docutils literal notranslate"><span class="pre">--regenerate</span></code> will result in higher generations than the number specified by <code class="code docutils literal notranslate"><span class="pre">--csv</span></code>.</p>
</div>
</section>
<section id="change-behavior-patterns-by-environment-variables">
<h3>Change behavior patterns by environment variables<a class="headerlink" href="#change-behavior-patterns-by-environment-variables" title="Permalink to this heading"></a></h3>
<p>One useful idea is to allow the detailed settings of the factory definition to be changed by environment variables. For example, the following definition file allows the initial value of <code class="code docutils literal notranslate"><span class="pre">id</span></code> to be specified by an environment variable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">randog</span>

<span class="n">initial_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;INIT_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">FACTORY</span> <span class="o">=</span> <span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">randdict</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">by_iterator</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">initial_id</span><span class="p">)),</span>
    <span class="n">name</span><span class="o">=</span><span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">randstr</span><span class="p">(),</span>
    <span class="n">age</span><span class="o">=</span><span class="n">randog</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>In addition to the standard shell method, the env option of randog can be used to specify environment variables. All of the following examples work the same way:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Can use it in bash, etc., but not in powershell</span>
<span class="nv">INIT_ID</span><span class="o">=</span><span class="m">5</span><span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py

<span class="c1"># Can use it in any shell</span>
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--env<span class="w"> </span><span class="nv">INIT_ID</span><span class="o">=</span><span class="m">5</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Multiple environment variables can also be specified as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--env<span class="w"> </span><span class="nv">INIT_ID</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">VAR</span><span class="o">=</span>foo
python<span class="w"> </span>-m<span class="w"> </span>randog<span class="w"> </span>byfile<span class="w"> </span>factory_def.py<span class="w"> </span>--env<span class="w"> </span><span class="nv">INIT_ID</span><span class="o">=</span><span class="m">5</span><span class="w"> </span>--env<span class="w"> </span><span class="nv">VAR</span><span class="o">=</span>foo
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to make the definition file importable, it may be better to implement the reading of environment variables in <code class="code docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__randog__&quot;</span></code>. See <a class="reference internal" href="doc.external_def.html#importable-definition-files"><span class="std std-ref">Importable definition files</span></a> for details.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="doc.as_command.timedelta.html" class="btn btn-neutral float-left" title="timedelta Mode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="doc.logging.html" class="btn btn-neutral float-right" title="Logging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, k-izumi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>